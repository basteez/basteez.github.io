<?xml version="1.0" encoding="utf-8" standalone="yes"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
    <channel>
        <title>Devops on Tiziano Basile | Software Engineer</title>
        <link>http://localhost:1313/categories/devops/</link>
        <description>Recent content in Devops on Tiziano Basile | Software Engineer</description>
        <generator>Hugo -- gohugo.io</generator>
        <language>en</language>
        <copyright>Tiziano Basile</copyright>
        <lastBuildDate>Wed, 13 Nov 2024 00:00:00 +0000</lastBuildDate><atom:link href="http://localhost:1313/categories/devops/index.xml" rel="self" type="application/rss+xml" /><item>
        <title>How to Use SonarQube and SonarScanner Locally to Level Up Your Code Quality</title>
        <link>http://localhost:1313/p/how-to-use-sonarqube-and-sonarscanner-locally-to-level-up-your-code-quality/</link>
        <pubDate>Wed, 13 Nov 2024 00:00:00 +0000</pubDate>
        
        <guid>http://localhost:1313/p/how-to-use-sonarqube-and-sonarscanner-locally-to-level-up-your-code-quality/</guid>
        <description>&lt;p&gt;Code quality tools can make a huge difference in improving your coding skills by helping you identify code smells, bugs, and potential vulnerabilities.&lt;/p&gt;
&lt;p&gt;In this guide, we’ll explore how to set up &lt;strong&gt;SonarQube&lt;/strong&gt; and &lt;strong&gt;SonarScanner&lt;/strong&gt; locally. This allows you to analyze your code for potential improvements right on your machine.&lt;/p&gt;
&lt;h2 id=&#34;step-1-setting-up-sonarqube-with-docker&#34;&gt;Step 1: Setting Up SonarQube with Docker
&lt;/h2&gt;&lt;p&gt;First, ensure you have Docker installed. With Docker, getting SonarQube up and running is straightforward:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;Pull the SonarQube image&lt;/strong&gt;:&lt;/p&gt;
&lt;p&gt;&lt;code&gt;docker pull sonarqube&lt;/code&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;Run SonarQube&lt;/strong&gt;:&lt;/p&gt;
&lt;p&gt;&lt;code&gt;docker run -d --name sonarqube -p 9000:9000 -p 9092:9092 sonarqube&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;This command runs SonarQube in the background, mapping port &lt;code&gt;9000&lt;/code&gt; (for the SonarQube web interface) and &lt;code&gt;9092&lt;/code&gt; (optional).&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&#34;step-2-accessing-sonarqube&#34;&gt;Step 2: Accessing SonarQube
&lt;/h2&gt;&lt;p&gt;With SonarQube running, open your browser and go to &lt;a class=&#34;link&#34; href=&#34;http://localhost:9000&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;http://localhost:9000&lt;/a&gt;. Enter the default credentials:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;Username&lt;/strong&gt;: &lt;code&gt;admin&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Password&lt;/strong&gt;: &lt;code&gt;admin&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Once logged in, you will be prompted to change the default password.&lt;/p&gt;
&lt;h2 id=&#34;step-3-generate-an-authentication-token&#34;&gt;Step 3: Generate an Authentication Token
&lt;/h2&gt;&lt;p&gt;To allow SonarScanner to connect to SonarQube, you need to create an authentication token.&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;Click the &lt;strong&gt;A&lt;/strong&gt; icon in the top-right corner and select &lt;strong&gt;My Account&lt;/strong&gt;.&lt;/li&gt;
&lt;li&gt;Navigate to the &lt;strong&gt;Security&lt;/strong&gt; tab and click &lt;strong&gt;Generate a token&lt;/strong&gt;.&lt;/li&gt;
&lt;li&gt;Name your token (it can be user-specific or global) and save it somewhere secure, as it will only be displayed once.&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&#34;step-4-configure-sonar-projectproperties&#34;&gt;Step 4: Configure &lt;code&gt;sonar-project.properties&lt;/code&gt;
&lt;/h2&gt;&lt;p&gt;Next, set up a configuration file to define key project properties SonarQube will use to analyze your code. In the root directory of your project, create a file named &lt;code&gt;sonar-project.properties&lt;/code&gt; and add the following content:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;4
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;5
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-yaml&#34; data-lang=&#34;yaml&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;l&#34;&gt;sonar.projectKey=my:project&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;c&#34;&gt;# Must be unique &lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;&lt;/span&gt;&lt;span class=&#34;l&#34;&gt;sonar.projectName=my project name &lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;&lt;/span&gt;&lt;span class=&#34;l&#34;&gt;sonar.projectVersion=1.0 sonar.sources=src/main/java&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;c&#34;&gt;# Adjust based on your source directory &lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;&lt;/span&gt;&lt;span class=&#34;l&#34;&gt;sonar.java.binaries=target/classes &lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;c&#34;&gt;# Adjust based on your compiled classes &lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;&lt;/span&gt;&lt;span class=&#34;l&#34;&gt;sonar.tests=src/test/java&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;c&#34;&gt;# Adjust based on your test directory&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;p&gt;This configuration file tells SonarQube about the structure and setup of your project.&lt;/p&gt;
&lt;h2 id=&#34;step-5-run-sonarscanner&#34;&gt;Step 5: Run SonarScanner
&lt;/h2&gt;&lt;p&gt;With everything set up, it’s time to analyze your project. Open a terminal at the root of your project and execute the following command:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;4
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;5
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;6
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;7
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;8
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;9
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;mvn clean install &lt;span class=&#34;o&#34;&gt;&amp;amp;&amp;amp;&lt;/span&gt; &lt;span class=&#34;se&#34;&gt;\
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;se&#34;&gt;&lt;/span&gt;mvn dependency:copy-dependencies &lt;span class=&#34;o&#34;&gt;&amp;amp;&amp;amp;&lt;/span&gt; &lt;span class=&#34;se&#34;&gt;\
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;se&#34;&gt;&lt;/span&gt;docker run &lt;span class=&#34;se&#34;&gt;\
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;se&#34;&gt;&lt;/span&gt;    --rm &lt;span class=&#34;se&#34;&gt;\
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;se&#34;&gt;&lt;/span&gt;    --network host &lt;span class=&#34;se&#34;&gt;\
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;se&#34;&gt;&lt;/span&gt;    -e &lt;span class=&#34;nv&#34;&gt;SONAR_HOST_URL&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;http://{YOUR LOCAL IP}:9000&amp;#34;&lt;/span&gt; &lt;span class=&#34;se&#34;&gt;\
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;se&#34;&gt;&lt;/span&gt;    -e &lt;span class=&#34;nv&#34;&gt;SONAR_TOKEN&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;{YOUR SONARQUBE TOKEN}&amp;#34;&lt;/span&gt; &lt;span class=&#34;se&#34;&gt;\
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;se&#34;&gt;&lt;/span&gt;    -v &lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt;&lt;span class=&#34;k&#34;&gt;$(&lt;/span&gt;&lt;span class=&#34;nb&#34;&gt;pwd&lt;/span&gt;&lt;span class=&#34;k&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;:/usr/src&amp;#34;&lt;/span&gt; &lt;span class=&#34;se&#34;&gt;\
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;se&#34;&gt;&lt;/span&gt;    sonarsource/sonar-scanner-cli
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;p&gt;This command does the following:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Cleans and builds your project using Maven (&lt;code&gt;mvn clean install&lt;/code&gt;).&lt;/li&gt;
&lt;li&gt;Copies dependencies needed for analysis.&lt;/li&gt;
&lt;li&gt;Runs SonarScanner in a Docker container and connects it to your local SonarQube instance.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Replace &lt;code&gt;{YOUR LOCAL IP}&lt;/code&gt; with your machine’s local IP address and &lt;code&gt;{YOUR SONARQUBE TOKEN}&lt;/code&gt; with the token you generated in Step 4.&lt;/p&gt;
&lt;h2 id=&#34;step-6-review-the-analysis-results-in-sonarqube&#34;&gt;Step 6: Review the Analysis Results in SonarQube
&lt;/h2&gt;&lt;p&gt;Once SonarScanner completes its run, return to &lt;a class=&#34;link&#34; href=&#34;http://localhost:9000&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;http://localhost:9000&lt;/a&gt; and navigate to your project dashboard. Here, you’ll see a detailed report on:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;Code smells&lt;/strong&gt;: Areas of the codebase that could benefit from refactoring.&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Bugs&lt;/strong&gt;: Logical errors or anomalies in the code.&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Vulnerabilities&lt;/strong&gt;: Security-related issues.&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;conclusion&#34;&gt;Conclusion
&lt;/h2&gt;&lt;p&gt;Setting up SonarQube and SonarScanner locally allows you to take your code quality analysis into your own hands. Regularly reviewing these reports can help you develop better habits, improve your understanding of code quality principles, and ultimately level up your coding skills.&lt;/p&gt;
</description>
        </item>
        
    </channel>
</rss>
